<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Confirmaci√≥n de Pedido - PetLuz</title>
    <link rel="stylesheet" th:href="@{/css/base_customer.css}">
    <link rel="stylesheet" th:href="@{/css/order_confirmation.css}">
</head>
<body>
    <!-- Header -->
    <div th:replace="shared/header :: header"></div>

    <!-- Sidebar del carrito -->
    <div th:replace="shared/cart-sidebar :: cart-sidebar"></div>

    <main class="confirmation-container">
        <div class="container">
            <!-- Encabezado de confirmaci√≥n -->
            <section class="confirmation-header">
                <div class="success-animation">
                    <div class="success-icon">‚úÖ</div>
                    <h1>¬°Pedido Confirmado!</h1>
                    <p class="success-message">Tu pedido ha sido procesado exitosamente</p>
                </div>
            </section>

            <div class="confirmation-layout">
                <!-- Columna izquierda - Informaci√≥n del pedido -->
                <div class="confirmation-main">
                    <!-- Resumen del pedido -->
                    <section class="order-summary-section">
                        <h2>üì¶ Resumen del Pedido</h2>
                        <div class="order-details">
                            <div class="detail-row">
                                <span class="detail-label">N√∫mero de Pedido:</span>
                                <span class="detail-value" id="orderNumber">Cargando...</span>
                            </div>
                            <div class="detail-row">
                                <span class="detail-label">Fecha y Hora:</span>
                                <span class="detail-value" id="orderDate">Cargando...</span>
                            </div>
                            <div class="detail-row">
                                <span class="detail-label">Estado:</span>
                                <span class="status-badge confirmed" id="orderStatus">Confirmado</span>
                            </div>
                            <div class="detail-row">
                                <span class="detail-label">M√©todo de Pago:</span>
                                <span class="detail-value" id="paymentMethod">Cargando...</span>
                            </div>
                            <div class="detail-row">
                                <span class="detail-label">M√©todo de Env√≠o:</span>
                                <span class="detail-value" id="deliveryMethod">Cargando...</span>
                            </div>
                            <div class="detail-row total">
                                <span class="detail-label">Total Pagado:</span>
                                <span class="detail-value" id="orderTotal">Cargando...</span>
                            </div>
                        </div>
                    </section>

                    <!-- Productos del pedido -->
                    <section class="order-products-section">
                        <h2>üõçÔ∏è Productos en tu Pedido</h2>
                        <div class="products-list" id="productsList">
                            <div class="loading-products">Cargando productos...</div>
                        </div>
                    </section>

                    <!-- Informaci√≥n de env√≠o -->
                    <section class="shipping-info-section">
                        <h2>üìç Informaci√≥n de Env√≠o</h2>
                        <div class="shipping-details" id="shippingDetails">
                            <div class="loading-address">Cargando direcci√≥n...</div>
                        </div>
                    </section>

                    <!-- Informaci√≥n de pago -->
                    <section class="payment-info-section" id="paymentInfoSection">
                        <h2>üí≥ Informaci√≥n de Pago</h2>
                        <div class="payment-details" id="paymentDetails">
                            <div class="loading-payment">Cargando informaci√≥n de pago...</div>
                        </div>
                    </section>
                </div>

                <!-- Columna derecha - Siguientes pasos y acciones -->
                <aside class="confirmation-sidebar">
                    <div class="next-steps">
                        <h3>üìã Siguientes Pasos</h3>
                        <div class="steps-timeline">
                            <div class="step-item completed">
                                <div class="step-icon">1</div>
                                <div class="step-content">
                                    <h4>Pedido Confirmado</h4>
                                    <p>Tu pedido ha sido recibido y confirmado</p>
                                </div>
                            </div>
                            <div class="step-item active">
                                <div class="step-icon">2</div>
                                <div class="step-content">
                                    <h4>Preparando Pedido</h4>
                                    <p>Estamos preparando tus productos para el env√≠o</p>
                                    <small id="preparationTime">Tiempo estimado: 24-48 horas</small>
                                </div>
                            </div>
                            <div class="step-item">
                                <div class="step-icon">3</div>
                                <div class="step-content">
                                    <h4>En Camino</h4>
                                    <p>Tu pedido ha sido enviado</p>
                                    <small id="deliveryEstimate">Fecha estimada de entrega</small>
                                </div>
                            </div>
                            <div class="step-item">
                                <div class="step-icon">4</div>
                                <div class="step-content">
                                    <h4>Entregado</h4>
                                    <p>¬°Tu pedido ha llegado!</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Acciones r√°pidas -->
                    <div class="quick-actions">
                        <h3>üöÄ Acciones R√°pidas</h3>
                        <div class="actions-grid">
                            <a href="/user/orders" class="action-card">
                                <div class="action-icon">üìã</div>
                                <div class="action-content">
                                    <h4>Ver Mis Pedidos</h4>
                                    <p>Revisa el estado de todos tus pedidos</p>
                                </div>
                            </a>
                            <a href="/customer/products" class="action-card">
                                <div class="action-icon">üõí</div>
                                <div class="action-content">
                                    <h4>Seguir Comprando</h4>
                                    <p>Descubre m√°s productos para tus mascotas</p>
                                </div>
                            </a>
                            <button class="action-card" id="downloadInvoiceBtn">
                                <div class="action-icon">üìÑ</div>
                                <div class="action-content">
                                    <h4>Descargar Factura</h4>
                                    <p>Obt√©n tu factura en formato PDF</p>
                                </div>
                            </button>
                            <button class="action-card" id="trackOrderBtn">
                                <div class="action-icon">üìç</div>
                                <div class="action-content">
                                    <h4>Seguir Pedido</h4>
                                    <p>Rastrea tu pedido en tiempo real</p>
                                </div>
                            </button>
                        </div>
                    </div>

                    <!-- Soporte -->
                    <div class="support-section">
                        <h3>‚ùì ¬øNecesitas Ayuda?</h3>
                        <div class="support-options">
                            <div class="support-item">
                                <span class="support-icon">üìû</span>
                                <div class="support-info">
                                    <strong>L√≠nea de Soporte</strong>
                                    <p>+57 3114506070</p>
                                </div>
                            </div>
                            <div class="support-item">
                                <span class="support-icon">üìß</span>
                                <div class="support-info">
                                    <strong>Correo Electr√≥nico</strong>
                                    <p>soporte@petluz.com</p>
                                </div>
                            </div>
                            <div class="support-item">
                                <span class="support-icon">üí¨</span>
                                <div class="support-info">
                                    <strong>Chat en Vivo</strong>
                                    <p>Disponible 24/7</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </aside>
            </div>

            <!-- Recomendaciones -->
            <section class="recommendations-section">
                <div class="section-header">
                    <h2>üéÅ Productos que te podr√≠an gustar</h2>
                    <p>Basado en tu pedido actual</p>
                </div>
                <div class="recommendations-grid" id="recommendationsGrid">
                    <!-- Los productos recomendados se cargar√°n aqu√≠ -->
                </div>
            </section>
        </div>
    </main>

    <!-- Footer -->
    <div th:replace="shared/footer :: footer-pedLUz"></div>

    <!-- Notificaciones -->
    <div id="notificationContainer"></div>

    <script th:src="@{/js/order_confirmation.js}"></script>
</body>
</html>